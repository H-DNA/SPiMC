# Segment queue

The `next` pointers have the LSB stolen for a marker (same idea as Java's [AtomicMarkableReference](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicMarkableReference.html)).

<img width="2540" height="834" alt="image" src="https://github.com/user-attachments/assets/ede0f2a2-bf1e-43ec-9ce9-929ada6a6eb3" />
